<div class="container">
  <h2>Pesquisar Rota Mais Barata</h2>

  <form (ngSubmit)="buscarRota()">
    <div class="row">
      <div class="form-group col-md-4">
        <label for="origem">Origem:</label>
        <input type="text" id="origem" [(ngModel)]="origem" name="origem" class="form-control" required />
      </div>

      <div class="form-group col-md-4" >
        <label for="destino">Destino:</label>
        <input type="text" id="destino" [(ngModel)]="destino" name="destino" class="form-control" required />
      </div>
    </div>

    <button type="submit" class="btn btn-primary" [disabled]="!origem || !destino">Pesquisar</button>
  </form>

  <!-- Indicador de carregamento -->
  <div *ngIf="carregando" class="mt-3">
    <p>Carregando...</p>
  </div>

  <!-- Resultado só aparece após requisição concluída com sucesso -->
  <div *ngIf="mostrarResultado">
    <div *ngIf="!hasError" class="alert alert-success d-flex align-items-center" style="margin-top:10px;">
      <i class="fas fa-check-circle me-2" style="margin-right: 10px !important;"></i> <!-- Ícone de sucesso -->
      <span>{{ resultado }}</span>
    </div>

    <div *ngIf="hasError" class="alert alert-danger d-flex align-items-center" style="margin-top:10px;">
      <i class="fas fa-exclamation-circle me-2" style="margin-right: 10px !important;"></i> <!-- Ícone de erro -->
      <span>{{ resultado }}</span>
    </div>
  </div>
</div>

<ngx-spinner
  bdColor="rgba(0,0,0,0.3)"
  size="medium"
  color="#fff"
  type="ball-spin-clockwise"
  [fullScreen]="true">
</ngx-spinner>

